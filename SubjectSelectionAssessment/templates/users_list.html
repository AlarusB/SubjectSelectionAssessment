{% extends '_layout.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<table class="table">
    <tr>
        <th>#</th>
        <th>First name</th>
        <th>Last name</th>
        <th>Email</th>
        <th>Actions</th>
    </tr>
    {% for row in result %}
    <tr>
        <td>{{ row.id }}</td>
        <td>{{ row.first_name }}</td>
        <td>{{ row.last_name }}</td>
        <td>{{ row.email }}</td>
        <td>
            <a href="/profile?id={{ row.id }}">View</a> 
            <a href="/edit?id={{ row.id }}">Edit</a>
            <a href="{{ url_for('delete_user', id=row.id) }}" onclick="return confirm('Are you sure? you want to delete {{row.first_name }} {{ row.last_name }}')">Delete</a>
            <a href="{{ url_for('view_user_subjects', id=row.id) }}">View subject choices</a>
        </td>
    </tr>
    {% endfor %}
</table>
<a href="{{ url_for('add_user') }}">Add a new user</a>
{% endblock %}
